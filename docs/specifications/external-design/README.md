# Works Logue - 外部設計書

**バージョン**: 1.0  
**最終更新**: 2026年1月24日  
**ステータス**: 実装済み

## ドキュメント構成

この外部設計書は、Works Logueプロジェクトの外部インターフェース設計をまとめたものです。以下のセクションに分かれています：

### 📖 設計書一覧

| ドキュメント | ファイル | 説明 | ステータス |
|-------------|---------|------|----------|
| **UI・画面設計** | [ui-design.md](ui-design.md) | 画面構成、レイアウト、デザインガイドライン | ✅ 完了 |
| **API仕様** | [api-specification.md](api-specification.md) | RESTful API、リクエスト/レスポンス形式 | ✅ 完了 |
| **画面遷移・ナビゲーション** | [screen-transition.md](screen-transition.md) | ルーティング、認証フロー、ナビゲーション | ✅ 完了 |
| **エラーハンドリング・通知** | [error-handling.md](error-handling.md) | エラー処理、ユーザー通知、例外処理 | ✅ 完了 |

### 🗂️ クイックナビゲーション

#### UI・画面設計関連
- [画面一覧・レイアウト構成](ui-design.md#1-画面一覧) - 全画面の概要と基本レイアウト
- [主要画面詳細](ui-design.md#3-主要画面詳細) - ホーム、記事詳細、編集画面の詳細設計
- [shadcn/ui 統一戦略](ui-design.md#411-shadcnui-統一戦略) - デザインシステムとコンポーネント戦略
- [レスポンシブデザイン](ui-design.md#43-レスポンシブデザイン) - モバイル・タブレット対応

#### API設計関連
- [認証API](api-specification.md#2-認証api) - ログイン・新規登録・ログアウト
- [記事API](api-specification.md#4-記事api) - 記事CRUD操作の詳細
- [リアクションAPI](api-specification.md#5-リアクションapi) - いいね・ブックマーク機能
- [エラーコード一覧](api-specification.md#9-エラーコード) - API共通エラー定義

#### 画面遷移・認証関連
- [全体遷移フロー](screen-transition.md#11-全体遷移フロー) - アプリケーション全体の画面遷移
- [認証フロー](screen-transition.md#12-認証フロー) - ログイン・新規登録の流れ
- [URLパターン](screen-transition.md#22-urlパターン) - Next.js App Routerのルーティング設計
- [認証ミドルウェア](screen-transition.md#41-認証ミドルウェア) - 権限制御の実装

#### エラーハンドリング関連
- [エラー分類・レベル](error-handling.md#11-エラー分類) - エラーの分類と対応方針
- [Error Boundary](error-handling.md#21-error-boundary) - React Error Boundary実装
- [フォームエラーハンドリング](error-handling.md#3-フォームエラーハンドリング) - バリデーションエラー処理
- [API エラーハンドリング](error-handling.md#4-api-エラーハンドリング) - Server Actions・API Route エラー処理

## 設計原則

### 📐 外部設計の基本方針

1. **ユーザーエクスペリエンス重視**: 直感的で使いやすいインターフェース設計
2. **一貫性のあるデザインシステム**: shadcn/ui を中心とした統一UI戦略
3. **レスポンシブ対応**: モバイルファーストでのデザイン設計
4. **アクセシビリティ配慮**: WCAG 2.1準拠のアクセシブルな設計
5. **パフォーマンス最適化**: 高速なレスポンスとスムーズなUX

### 🎯 設計指針

#### UI/UX設計
- **shadcn/ui統一戦略**: すべてのUIコンポーネントでshadcn/uiを第一選択
- **ダークモード対応**: 完全なテーマ切り替え機能
- **モバイルファースト**: レスポンシブデザインの徹底
- **エラー防止**: 分かりやすいフォームバリデーションとエラー表示

#### API設計
- **RESTful設計**: 標準的なHTTPメソッドとステータスコード
- **一貫したレスポンス形式**: 統一されたJSON形式
- **適切なエラーハンドリング**: 明確なエラーコードと分かりやすいメッセージ
- **セキュリティ考慮**: 認証・認可の適切な実装

#### 画面遷移・ナビゲーション
- **直感的なナビゲーション**: ユーザーが迷わない明確な導線
- **適切な認証制御**: セキュアな権限管理
- **パンくずナビゲーション**: 現在地の明確な表示
- **モバイル対応ナビ**: ハンバーガーメニューとタッチ最適化

## 技術的制約・考慮事項

### 🔧 フレームワーク制約
- **Next.js App Router**: ファイルベースルーティングの制約
- **React Server Components**: サーバー・クライアントコンポーネントの使い分け
- **shadcn/ui制約**: コンポーネントカスタマイズの制限
- **Tailwind CSS**: デザイントークンとユーティリティクラス

### 🔒 セキュリティ要件
- **NextAuth.js認証**: JWT + セッション管理
- **CSRF対策**: Server Actions + CSRFトークン
- **XSS対策**: 適切なエスケープ処理
- **入力検証**: Zodスキーマによる厳密なバリデーション

### 📊 パフォーマンス要件
- **ページ読み込み**: 初回3秒以内、リピート1秒以内
- **API応答時間**: 平均500ms以内
- **画像最適化**: Next.js Image コンポーネント活用
- **バンドルサイズ**: JavaScript初期バンドル300KB以下

## 関連ドキュメント

### 📚 他の設計書との関係

- **[要件定義書](../requirements/)** ← 外部設計の基となる要件
- **[内部設計書](../internal-design/)** → 外部設計を実現する内部構造
- **[デプロイメント仕様書](../deployment/)** → 設計を本番環境に展開する手順

### 🔄 更新・メンテナンス

- **機能追加時**: 対応するUI設計・API仕様を更新
- **デザインシステム変更時**: ui-design.md を中心に影響範囲を更新
- **認証システム変更時**: screen-transition.md の認証フロー更新
- **エラーハンドリング改善時**: error-handling.md の戦略・実装更新

---

## 変更履歴

| 日付 | バージョン | 変更者 | 変更内容 |
|------|------------|--------|----------|
| 2026-01-24 | 1.0 | システム | 外部設計書をサブディレクトリ構造に分割・再編成 |